---
applyTo: '**/*.ts'
---

# Error Handling Best Practices

## 1. Domain Errors

- Define clear domain-specific errors
- Use proper error hierarchies
- Keep error messages business-focused
- Implement proper error codes
- Use proper error categorization
- Handle domain validation errors
- Document domain errors properly

## 2. Infrastructure Errors

- Handle database errors properly
- Handle network errors
- Handle external service errors
- Implement proper timeouts
- Handle connection errors
- Implement proper retries
- Use proper error mapping

## 3. Application Errors

- Handle validation errors
- Implement proper error responses
- Use proper HTTP status codes
- Handle business rule violations
- Implement proper error transformation
- Use proper error serialization
- Handle concurrent operation errors

## 4. GraphQL Errors

- Use proper error extensions
- Implement proper error formatting
- Handle partial errors properly
- Use proper error codes
- Implement proper error masking
- Handle N+1 query errors
- Use proper error locations

## 5. Error Logging

- Implement proper logging levels
- Use structured logging
- Include proper context
- Log stack traces properly
- Implement proper log rotation
- Use proper log formatting
- Monitor error frequencies

## 6. Error Recovery

- Implement proper rollbacks
- Handle transaction failures
- Implement proper cleanup
- Use proper fallback strategies
- Implement circuit breakers
- Handle partial failures
- Implement proper retries

## 7. Security Considerations

- Mask sensitive information
- Handle authentication errors
- Handle authorization errors
- Implement proper rate limiting
- Handle injection attempts
- Use proper error sanitization
- Implement proper audit logging

## 8. Client Error Handling

- Implement proper error responses
- Use proper status codes
- Handle network errors
- Implement proper retries
- Use proper error messages
- Handle timeout errors
- Implement proper fallbacks

## 9. Validation Errors

- Use proper validation messages
- Handle input validation
- Handle business validation
- Implement proper error codes
- Use proper error formatting
- Handle multiple errors
- Implement proper error grouping

## 10. Error Monitoring

- Implement proper error tracking
- Use proper error metrics
- Monitor error frequencies
- Implement proper alerting
- Track error patterns
- Monitor error resolution
- Use proper error analytics

## 11. Documentation

- Document error types
- Document error codes
- Document error handling
- Document recovery procedures
- Document error patterns

## 12. Testing Error Scenarios

- Test error handling
- Test recovery procedures
- Test error boundaries
- Test error logging
- Test error monitoring
- Test security implications
- Test client handling
